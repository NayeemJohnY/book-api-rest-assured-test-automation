<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Book API Testing Framework</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <meta property="og:title" content="Book API Testing Framework">
    <meta property="og:description" content="Comprehensive API Testing Framework for Book system.">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <a href="https://github.com/NayeemJohnY/book-api-rest-assured-test-automation" class="github-corner" target="_blank"
        title="View on GitHub">
        <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Repo">
    </a>
    <div class="main-container">
        <header>
            <h1>Book API Testing Framework</h1>
            <p class="subtitle">A comprehensive framework for automated API testing of a Book system.</p>
        </header>

        <nav class="quick-links">
            <a href="./allure-report/index.html" class="nav-link">
                <i class="fa-solid fa-chart-line"></i>
                Allure Report
            </a>
            <a href="./test-results-report.json" class="nav-link">
                <i class="fa-solid fa-file-code"></i>
                Test Results JSON
            </a>
            <a href="./javadocs/apidocs/index.html" class="nav-link">
                <i class="fa-solid fa-code"></i>
                Java APIDocs
            </a>
            <a href="./javadocs/testapidocs/index.html" class="nav-link">
                <i class="fa-solid fa-vial"></i>
                Test APIDocs
            </a>
        </nav>

        <h2>Tech Stack</h2>
        <table>
            <tr>
                <th>Label</th>
                <th>Tool</th>
            </tr>
            <tr>
                <td>Language</td>
                <td>Java 21+</td>
            </tr>
            <tr>
                <td>API Testing</td>
                <td>Rest Assured</td>
            </tr>
            <tr>
                <td>Test Framework</td>
                <td>TestNG</td>
            </tr>
            <tr>
                <td>Reporting</td>
                <td>Allure</td>
            </tr>
            <tr>
                <td>Logging</td>
                <td>Log4j2</td>
            </tr>
            <tr>
                <td>JSON</td>
                <td>Jackson (serialization/deserialization)</td>
            </tr>
            <tr>
                <td>Assertions</td>
                <td>Hamcrest</td>
            </tr>
            <tr>
                <td>Build Tool</td>
                <td>Maven</td>
            </tr>
        </table>

        <h2>Key Functionalities</h2>
        <ul>
            <li><b>Node.js Book API:</b> RESTful API for books (CRUD, search, pagination, auth, rate limiting)</li>
            <li><b>Java Test Suite:</b> TestNG + RestAssured for automated API tests (Create, Get, Update, Delete)</li>
            <li><b>Test Groups:</b> Organized test execution with <strong>smoke</strong>, <strong>regression</strong>,
                and <strong>negative</strong> test groups for targeted testing strategies</li>
            <li><b>Parallel Execution:</b> Support for parallel test execution to reduce overall test execution time and
                improve CI/CD pipeline efficiency</li>
            <li><b>Retry Logic (retryRequest):</b> Retries API requests on HTTP 429, using Retry-After header or default
                interval</li>
            <li><b>RetryAnalyzer:</b> TestNG retry analyzer for HTTP 429, with logging and Allure step reporting</li>
            <li><b>Logger & Custom Logging:</b> Log4j2 and RestAssuredLogFilter for detailed HTTP and test logs</li>
            <li><b>Allure Reporting:</b> Comprehensive test reporting with Allure framework, providing detailed insights
                into test execution and results</li>
            <li><b>CI/CD Ready:</b> GitHub Actions workflow for automated test execution and reporting</li>
            <li><b>Test Results JSON Collection:</b> Exports TestNG results to structured JSON with test outcomes,
                durations, and iteration details.</li>
        </ul>

        <h2>Key Classes & Utilities</h2>
        <ul>
            <li><b>Book.java:</b> POJO for book entity (id, title, author). Used as the data model for API payloads and
                responses.</li>
            <li><b>JsonUtils.java:</b> Utility for JSON serialization/deserialization using Jackson. Simplifies
                conversion
                between Java objects and JSON strings for API requests and responses.</li>
            <li><b>RestAssuredLogFilter.java:</b> Custom RestAssured filter for HTTP logging. Captures and logs HTTP
                requests and responses for debugging and reporting, integrates with Log4j2 and Allure.</li>
            <li><b>BaseTest.java:</b> Abstract base for API tests. Handles test setup/teardown, authentication, retry
                logic, logging, and provides common utilities for all test classes.</li>
            <li><b>Test Utils (testUtils/):</b>
                <ul>
                    <li><b>AnnotationTransformer.java:</b> Dynamically modifies TestNG annotations at runtime, enabling
                        features like retry logic and custom listeners without changing test code.</li>
                    <li><b>RetryAnalyzer.java:</b> Implements TestNG's retry logic for flaky tests, especially for
                        handling HTTP 429 (rate limit) responses. Integrates with Allure for reporting retries.</li>
                    <li><b>TestResultLoggerListener.java:</b> Listens to test execution events, logs results, and
                        integrates
                        with Allure and Log4j2 for detailed reporting and debugging.</li>
                    <li><b>Assertion.java:</b> Provides custom assertion methods with enhanced logging using Log4j2,
                        making
                        test failures easier to diagnose.</li>
                    <li><b>LoggingMatcher.java:</b> Custom Hamcrest matcher that logs assertion details, improving the
                        expressiveness and traceability of test assertions.</li>
                    <li><b>TestResultsReporter.java:</b> Collects and exports test results to JSON</li>
                    <li><b>TestResultsRecords.java:</b> Data structures for test results JSON</li>
                </ul>
            </li>
        </ul>

        <h2>Project Structure</h2>
        <pre><code>book-api-rest-assured-test-automation/
            │
            ├── .github/                                        # GitHub workflows and actions
            │   └── workflows/
            │       └── test-execution.yml                      # CI workflow for running tests
            ├── .gitignore                                      # Git ignore rules
            │
            ├── github-pages/                                   # Static site for documentation/demo
            │   ├── index.html
            │   └── style.css
            │
            ├── pom.xml                                         # Maven build and dependencies
            │
            ├── README.md                                       # Project documentation
            │
            ├── src/
            │   ├── main/
            │   │   ├── java/
            │   │   │   ├── pojos/
            │   │   │   │   └── Book.java                      # Book POJO for API payloads
            │   │   │   └── utils/
            │   │   │       ├── JsonUtils.java                 # JSON utility methods
            │   │   │       └── RestAssuredLogFilter.java      # Custom RestAssured logging
            │   │   │
            │   │   └── resources/
            │   │       └── log4j2.xml                         # Logging configuration
            │   │   
            │   └── test/
            │       └── java/
            │           ├── tests/
            │           │   ├── BaseTest.java                  # Test base class
            │           │   ├── TS01_CreateBook.java           # Test: Create Book
            │           │   ├── TS02_GetBook.java              # Test: Get Book
            │           │   ├── TS03_UpdateBook.java           # Test: Update Book
            │           │   └── TS04_DeleteBook.java           # Test: Delete Book
            │           │
            │           └── testUtils/
            │               ├── AnnotationTransformer.java     # TestNG annotation helper
            │               ├── RetryAnalyzer.java             # Retry logic for flaky tests
            │               ├── TestResultLoggerListener.java  # TestNG result logger
            │               ├── Assertion.java                 # Custom assertions with logging
            │               ├── LoggingMatcher.java            # Hamcrest matcher with logging
            │               ├── TestResultsReporter.java       # Collects and exports test results to JSON
            │               └── TestResultsRecords.java        # Data structures for test results JSON
            │ 
            ├── test-results/                                  # Test output and logs
            │   ├── allure-results/                            # Allure results
            │   └── logs/
            │       └── books-api-test.log                     # Test execution log
            ├── testng.xml                                     # TestNG suite configuration
        </code></pre>

        <section class="test-groups">
            <h2>📊 Test Groups</h2>
            <div class="group-cards">
                <div class="group-card smoke">
                    <h3>🔥 Smoke Tests</h3>
                    <p>Critical functionality tests including basic CRUD operations with valid data</p>
                    <div class="code-snippet">mvn clean test -Dgroups=smoke</div>
                </div>
                <div class="group-card regression">
                    <h3>🔄 Regression Tests</h3>
                    <p>Comprehensive test coverage including all positive and negative scenarios</p>
                    <div class="code-snippet">mvn clean test -Dgroups=regression</div>
                </div>
                <div class="group-card negative">
                    <h3>❌ Negative Tests</h3>
                    <p>Error handling validation including unauthorized access and invalid data</p>
                    <div class="code-snippet">mvn clean test -Dgroups=negative</div>
                </div>
            </div>
        </section>

        <h2>🚀 CI/CD & Automation</h2>
        <div>
            <p><strong>GitHub Actions Workflow:</strong> Sophisticated CI/CD pipeline with flexible test execution and
                comprehensive reporting capabilities.</p>

            <ul>
                <li><b>Flexible Test Selection:</b> Run specific methods, classes, or test groups</li>
                <li><b>Environment Management:</b> Auto-configures Java 21+ and Node.js environments</li>
                <li><b>Parallel Execution:</b> Toggle parallel test execution for faster feedback</li>
                <li><b>API Integration:</b> Deploys and manages Book API during test execution</li>
                <li><b>Multi-Format Reporting:</b> Allure, JavaDoc, JSON, and Azure DevOps Test Plans integration</li>
                <li><b>GitHub Pages Deployment:</b> Automated publishing of all reports and documentation</li>
            </ul>

            <div style="margin-top:12px;padding:12px 12px;background:#e3f2fd;border-radius:4px;text-align:center;">
                <i class="fa-brands fa-github" style="margin-right:6px;color:#333;"></i>
                <a href="https://github.com/NayeemJohnY/book-api-rest-assured-test-automation/actions" target="_blank"
                    style="color:#1976d2;text-decoration:none;font-weight:500;">View Workflow Runs</a>
                <span style="margin:0 8px;color:#666;">|</span>
                <i class="fa-solid fa-rocket" style="margin-right:6px;color:#333;"></i>
                <a href="https://github.com/NayeemJohnY/book-api-rest-assured-test-automation/actions/workflows/test-execution.yml"
                    target="_blank" style="color:#1976d2;text-decoration:none;font-weight:500;">Manual Dispatch</a>
            </div>
        </div>

        <div class="ado-images-container">
            <h2>Azure DevOps Test Plan Integration</h2>
            <p>Below are sample screenshots showing how test results are posted and visualized in Azure DevOps Test
                Plans:</p>
            <div class="ado-images-grid">
                <figure>
                    <img src="images/ado-progress-report.png" alt="ADO Progress Report" class="ado-img"
                        onclick="enlargeImage(this)">
                    <figcaption>Progress Report</figcaption>
                </figure>
                <figure>
                    <img src="images/ado-run-summary.png" alt="ADO Run Summary" class="ado-img"
                        onclick="enlargeImage(this)">
                    <figcaption>Run Summary</figcaption>
                </figure>
                <figure>
                    <img src="images/ado-test-result-summary.png" alt="ADO Test Result Summary" class="ado-img"
                        onclick="enlargeImage(this)">
                    <figcaption>Test Result Summary</figcaption>
                </figure>
                <figure>
                    <img src="images/ado-test-results.png" alt="ADO Test Results" class="ado-img"
                        onclick="enlargeImage(this)">
                    <figcaption>Test Results in Azure DevOps</figcaption>
                </figure>
            </div>
            <div id="adoModal" class="ado-modal" onclick="closeModal(event)">
                <div class="ado-modal-content">
                    <div class="ado-modal-image-container">
                        <img id="adoModalImg" src="" alt="Enlarged Azure DevOps Screenshot">
                    </div>
                    <button class="ado-modal-close" onclick="closeModal(event)">Close</button>
                </div>
            </div>
        </div>
        <script>
            function enlargeImage(img) {
                var modal = document.getElementById('adoModal');
                var modalImg = document.getElementById('adoModalImg');
                modalImg.src = img.src;
                modal.classList.add('active');
            }
            function closeModal(event) {
                var modal = document.getElementById('adoModal');
                if (event.target.classList.contains('ado-modal') || event.target.classList.contains('ado-modal-close')) {
                    modal.classList.remove('active');
                }
            }
        </script>
        <footer
            style="width:100%;text-align:center;margin-top:40px;padding:18px 0 8px 0;color:#b0b0b0;font-size:1em;letter-spacing:0.5px;border-top:1.5px solid rgba(79,195,247,0.18);box-shadow:0 -2px 12px 0 rgba(79,195,247,0.08);">
            <a href="https://www.linkedin.com/in/nayeemjohny/" target="_blank"
                style="color:#4fc3f7;text-decoration:none;font-weight:600;">
                <em class="fa-brands fa-linkedin" style="margin-right:8px;"></em>Connect with me on LinkedIn
            </a>
            <div style="margin-top: 10px; font-size: 0.98em; color: #7ecfff;">
                <em class="fa-solid fa-robot" style="margin-right: 6px; color: #ffd700;"></em>
                Thanks to <span style="font-weight: 600; color: #ffd700;">GitHub Copilot</span> for assisting the doc
                preparation
            </div>

        </footer>
    </div>
</body>

</html>